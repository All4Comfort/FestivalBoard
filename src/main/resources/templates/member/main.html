<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fullstival 웹사이트</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

    <style>
        /* 푸터를 브라우저 맨 아래로 고정합니다. */
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #f8f9fa;
            /* 푸터의 배경색 설정 */
            text-align: center;
            /* 푸터 내용 가운데 정렬 */
            padding: 10px;
            /* 원하는 여백 설정 */
        }

        /* 드롭다운 메뉴에서 화살표를 숨깁니다. */
        .dropdown-toggle::after {
            display: none;
        }

        /* 드롭다운 메뉴의 위치를 조절합니다. */
        .dropdown-menu {
            left: 0;
            /* 드롭다운 메뉴가 화면 왼쪽에 정렬되도록 설정합니다. */
            margin-left: -30px;
            /* 원하는 만큼 왼쪽으로 이동시킵니다. */
        }
    </style>
</head>

<body>
    <header>
        <nav id="navbar-example2" class="navbar bg-body-tertiary px-3 mb-3">
            <a class="navbar-brand" href="#"><b>Fullstival</b></a>
            <ul class="nav nav-pills">
                <div id="welcome-message" th:if="${session.loggedInUser != null}" th:text="${session.loggedInUser.name} + '님 환영합니다.'" style="display: flex; align-items: center;">
                </div>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
                        aria-expanded="false"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30"
                            fill="black" class="bi bi-list" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z" />
                        </svg></a>
                    <!-- 게시판 햄버거 -->
                    <ul class="dropdown-menu">
                        <a class="dropdown-item" href="#scrollspyHeading1"><li>축제게시판</li></a>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <a class="dropdown-item" href="#scrollspyHeading2"><li>리뷰게시판</li></a>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <a class="dropdown-item" href="#scrollspyHeading3"><li>자유게시판</li></a>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <a class="dropdown-item" href="#scrollspyHeading4"><li>공지사항&QnA</li></a>
                    </ul>
                </li>
                <!-- 로그인하지 않은 사용자에게 보여질 메뉴-->
                <li class="nav-item" th:unless="${session.loggedInUser != null}">
                    <a class="nav-link" id="login-link1" href="#scrollspyHeading5">
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="black" class="bi bi-person"
                            viewBox="0 0 16 16">
                            <path
                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z" />
                        </svg>
                    </a>
                </li>

                <!-- 로그인한 사용자에게 보여질 메뉴 -->
                <li class="nav-item" th:if="${session.loggedInUser != null}">
                    <a class="nav-link" id="login-link2" href="#scrollspyHeading5">
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="black" class="bi bi-person"
                            viewBox="0 0 16 16">
                            <path
                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z" />
                        </svg>
                    </a>
                </li>

            </ul>
        </nav>
    </header>

    <section class="container my-5">
        <h1>Fullstival 웹사이트</h1>
        <p>Fullstival 무엇을 하는 사이트에 대한 간단한 설명</p>
    </section>

    <!-- 중간에 검색 폼을 추가하고 화면의 80% 폭으로 설정합니다. -->
    <div class="container" style="width: 70%; margin-top: 150px;">
        <form class="d-flex">
            <input class="form-control me-1" type="search" placeholder="축제검색" aria-label="Search">
            <button class="btn btn-outline-success" type="submit">Search</button>
        </form>
    </div>

    <section class="container my-5">
        <h2>진행중 축제</h2>
        <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">축제 1</h5>
                            <p class="card-text">축제 1에 대한 설명</p>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">축제 2</h5>
                            <p class="card-text">축제 2에 대한 설명</p>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">축제 3</h5>
                            <p class="card-text">축제 3에 대한 설명</p>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">축제 4</h5>
                            <p class="card-text">축제 4에 대한 설명</p>
                        </div>
                    </div>
                </div>
                <div class="carousel-item">
                    <div class="card">
                        <div class="card-body">
                            <h5 class="card-title">축제 5</h5>
                            <p class="card-text">축제 5에 대한 설명</p>
                        </div>
                    </div>
                </div>
            </div>
            <a class="carousel-control-prev" href="#myCarousel" role="button" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </a>
            <a class="carousel-control-next" href="#myCarousel" role="button" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </a>
        </div>
    </section>

    <section class="container my-5">
        <h2>고객센터</h2>
        <p>고객센터 내용</p>
    </section>

    <footer class="bg-dark text-light text-center py-3">
        <p>&copy; 2023 Fullstival. 모든 권리 보유.</p>
    </footer>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous">
    </script>



    <!--로그인 로직 같은경우 페이지가 다 로딩된 다음에 실행되어야 해서
    페이지 로딩이 다 끝난후 스크립트문 실행 해야함-->

    <script>
        //로그인 체크 후 비로그인 시 login 으로 이동
        //로그인 시 myPage 로 이동
        document.addEventListener('DOMContentLoaded', function () {
            
            if (document.getElementById('login-link1')) {
                // 클릭 이벤트 처리
                document.getElementById('login-link1').addEventListener('click', function (event) {
                    // 사용자가 로그인하지 않은 경우
                    alert('로그인이 필요합니다. 로그인 페이지로 이동합니다.');
                    event.preventDefault(); // 기본 동작 방지
                    window.location.href = "/member/login"; // 로그인 페이지로 이동
                });
            } else {
                document.getElementById('login-link2').addEventListener('click', function (event) {
                    // 사용자가 로그인한 경우
                    alert('마이페이지로 이동합니다.');
                    event.preventDefault(); // 기본 동작 방지
                    window.location.href = "/member/myPage"; // 마이페이지로 이동
                });
            }

        });


          //게시판 햄버거
    // 모든 클래스가 "dropdown-item"인 요소를 선택합니다.
    var dropdownItems = document.querySelectorAll('.dropdown-item');

// 각 요소에 대해 이벤트 리스너를 추가합니다.
dropdownItems.forEach(function (item) {
    item.addEventListener('click', function (event) {
        // 현재 페이지 URL의 해시 (예: #scrollspyHeading1)를 가져옴
        var currentHash = window.location.hash;
        // 클릭한 앵커 태그의 href 속성 값을 가져옴
        var href = this.getAttribute('href');

        
        if (currentHash === href) {
            
            if(href === '#scrollspyHeading1'){
                
            alert('축제게시판으로 이동합니다.');
            window.location.href = "/test";
            event.preventDefault();

        }else if(href === '#scrollspyHeading2'){

            alert('리뷰게시판으로 이동합니다.');
            window.location.href = "/reviewList";
            event.preventDefault();

        }else if(href === '#scrollspyHeading3'){

            alert('자유게시판으로 이동합니다.');
            window.location.href = "/board/boardList";
            event.preventDefault();

        }else{

            alert('공지게시판으로 이동합니다.');
            window.location.href = "/notice1";
            event.preventDefault();
        }

    }
    });
});
    </script>








    <!-- <script>
        //로그인 체크 후 비로그인 시 login 으로 이동
        //로그인 시 myPage 로 이동
        // 앵커 태그를 클릭할 때 이벤트 리스너를 추가
        document.querySelector('#login-link').addEventListener('click', function (event) {
            // 현재 페이지 URL의 해시 (예: #scrollspyHeading5)를 가져옴
            var currentHash = window.location.hash;

            // 클릭한 앵커 태그의 href 속성 값을 가져옴
            var href = this.getAttribute('href');

            // 현재 해시와 앵커 태그의 href 속성이 같으면 분기 동작 수행
            if (currentHash === href) {
                alert('마이페이지로 이동합니다.');
                // 이동하고자 하는 페이지 URL로 리다이렉트
                window.location.href = "/member/myPage";
                event.preventDefault(); // 기본 동작 방지
            }
        });
    </script> -->

</body>

</html>